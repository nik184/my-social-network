{{define "content"}}
<div class="header">
    <div class="avatar-container">
        <div id="avatarDisplay" class="avatar-placeholder" onclick="openGallery()">ğŸ‘¤</div>
    </div>
    <h1>ğŸŒ Distributed Social Network</h1>
    <p>Manage and share your space184 directory using libp2p peer-to-peer networking</p>
    <p style="font-size: 0.9em; color: #666;">âœ¨ Features: DHT discovery, NAT traversal, hole punching, auto file monitoring</p>
</div>

<div class="section">
    <h3>ğŸ“ Directory Management</h3>
    <button class="button" onclick="createDirectory()">Create space184 Directory</button>
    <button class="button" onclick="scanDirectory()">Manual Scan</button>
    <button class="button" onclick="getMonitorStatus()">Monitor Status</button>
    <div id="directoryStatus"></div>
    <div id="monitorStatus" class="status" style="margin: 10px 0;"></div>
    <div id="directoryInfo" class="result"></div>
</div>

<div class="section">
    <h3>ğŸ” P2P Network Discovery</h3>
    <div style="margin-bottom: 15px;">
        <h4>ğŸ“‹ Connection String</h4>
        <input type="text" id="connectionStringInput" class="input" placeholder="Paste connection string (IP:PORT:PEER_ID)" style="width: 500px;">
        <button class="button" onclick="connectByString()">Connect</button>
    </div>
    <button class="button" onclick="getConnectedPeers()">Show Connected Peers</button>
    <button class="button" onclick="getConnectionInfo()">Get My Connection Info</button>
    <div id="discoveryStatus"></div>
    <div id="discoveryResult" class="result"></div>
</div>

<div class="section">
    <h3>â„¹ï¸ Current Node Info</h3>
    <button class="button" onclick="getNodeInfo()">Refresh Info</button>
    <div id="natStatus" class="status" style="margin: 10px 0;"></div>
    <div id="nodeInfo" class="result"></div>
</div>

<div class="section">
    <h3>ğŸ‘¥ Connected Peer Details</h3>
    <button class="button" onclick="getDetailedPeerInfo()">Show Detailed Peer Info</button>
    <div id="peerInfoStatus" class="status" style="margin: 10px 0;"></div>
    <div id="detailedPeerInfo" class="result"></div>
</div>

<div class="section">
    <h3>ğŸ“œ Connection History</h3>
    <button class="button" onclick="getConnectionHistory()">Refresh History</button>
    <div id="connectionHistoryStatus" class="status" style="margin: 10px 0;"></div>
    <div id="connectionHistory" style="margin: 10px 0;"></div>
</div>

<div class="section">
    <h3>ğŸ”— Second-Degree Connections</h3>
    <p style="font-size: 0.9em; color: #666;">Peers connected to your direct connections (friends of friends)</p>
    <button class="button" onclick="getSecondDegreeConnections()">Discover Peers</button>
    <div id="secondDegreeStatus" class="status" style="margin: 10px 0;"></div>
    <div id="secondDegreeConnections" style="margin: 10px 0;"></div>
</div>
{{end}}